{% extends "web/base.jinja" %}

{% block body %}
<div class="home-page">
    <section class="last-news">
        <h1>Ultimas noticias:</h2>

        {% for article in articles.object_list %}
        <article>
            <header>
                <h2><a href="{{ url("article", slug=article.slug) }}">{{ article.title }}</a></h2>
                <p>Creado <time datetime="{{ article.created_at.isoformat() }}">{{ article.created_at|date("D d M Y") }}</time>
                    por <a href="#">{{ article.created_by.get_full_name() }}</a></p>
            </header>

            {{ view.markup(article.content)|safe() }}
        </article>
        {% else %}
        <article>
            <p>No hay articulos para mostrar.</p>
        </article>
        {% endfor %}


        {% if articles.paginator.num_pages > 1 %}
        <div class="pagination">
            <span class="step-links">
                {% if articles.has_previous() %}
                    <a href="?page={{ articles.previous_page_number }}">mas nuevos</a>
                {% endif %}

                <span class="current">
                     pagina {{ articles.number }} de {{ articles.paginator.num_pages }}
                </span>

                {% if articles.has_next() %}
                    <a href="?page={{ articles.next_page_number }}">mas viejos</a>
                {% endif %}
            </span>
        </div>

        {% endif %}
    </section>

</div>
{% endblock %}
